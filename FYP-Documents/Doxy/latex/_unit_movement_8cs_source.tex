\hypertarget{_unit_movement_8cs_source}{}\doxysection{Unit\+Movement.\+cs}
\label{_unit_movement_8cs_source}\index{C:/Users/gameuser/Desktop/4th Year Work/Project/4thYearProject/RTS/Assets/Resources/Scripts/Unused/UnitMovement.cs@{C:/Users/gameuser/Desktop/4th Year Work/Project/4thYearProject/RTS/Assets/Resources/Scripts/Unused/UnitMovement.cs}}
\mbox{\hyperlink{_unit_movement_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00001}00001 \textcolor{keyword}{using }Newtonsoft.Json.Bson;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00002}00002 \textcolor{keyword}{using }System.Collections;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00003}00003 \textcolor{keyword}{using }System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00004}00004 \textcolor{keyword}{using }UnityEngine;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00005}00005 \textcolor{keyword}{using }UnityEngine.EventSystems;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00006}00006 \textcolor{keyword}{using }static UnityEngine.GraphicsBuffer;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00008}\mbox{\hyperlink{class_unit_movement}{00008}} \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_unit_movement}{UnitMovement}} : MonoBehaviour}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00009}00009 \{}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00011}00011     [SerializeField]}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00012}\mbox{\hyperlink{class_unit_movement_a4c228685b3bc09af7280d5eb49d8b96e}{00012}}     \textcolor{keyword}{private} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_unit_movement_a4c228685b3bc09af7280d5eb49d8b96e}{m\_movementSpeed}};}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00013}00013     [SerializeField]}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00014}\mbox{\hyperlink{class_unit_movement_a3414700913795d2be84be288fa5f2631}{00014}}     \textcolor{keyword}{private} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_unit_movement_a3414700913795d2be84be288fa5f2631}{m\_rotationSpeed}};}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00015}00015     [SerializeField]}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00016}\mbox{\hyperlink{class_unit_movement_ac68c00725a14e2f4d87092397684d257}{00016}}     \textcolor{keyword}{private} \textcolor{keywordtype}{float} \mbox{\hyperlink{class_unit_movement_ac68c00725a14e2f4d87092397684d257}{m\_rotationModifier}};}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00018}\mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{00018}}     \textcolor{keyword}{private} Vector3 \mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{m\_movePosition}};}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00019}\mbox{\hyperlink{class_unit_movement_a37bf9230462fde0612356056809d3774}{00019}}     \textcolor{keyword}{private} Rigidbody2D \mbox{\hyperlink{class_unit_movement_a37bf9230462fde0612356056809d3774}{m\_rigidbody2D}};}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00020}\mbox{\hyperlink{class_unit_movement_aea24ff10af51a1f5ceb96ea158a72d79}{00020}}     \textcolor{keyword}{private} Vector3 \mbox{\hyperlink{class_unit_movement_aea24ff10af51a1f5ceb96ea158a72d79}{m\_velocityVector}};}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00022}00022     [SerializeField]}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00023}\mbox{\hyperlink{class_unit_movement_a0ea4b32aef6db3115e826dd971fd025e}{00023}}     \textcolor{keyword}{private} \mbox{\hyperlink{class_unit_field_of_view}{UnitFieldOfView}} \mbox{\hyperlink{class_unit_movement_a0ea4b32aef6db3115e826dd971fd025e}{UnitFieldOfView}};}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00024}\mbox{\hyperlink{class_unit_movement_a5627a7a6209ab00c6660d9cfa8a676cf}{00024}}     \textcolor{keyword}{private} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_unit_movement_a5627a7a6209ab00c6660d9cfa8a676cf}{Awake}}()}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00025}00025     \{}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00026}00026         \mbox{\hyperlink{class_unit_movement_a37bf9230462fde0612356056809d3774}{m\_rigidbody2D}}= GetComponent<Rigidbody2D>();}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00027}00027         \mbox{\hyperlink{class_unit_field_of_view}{UnitFieldOfView}}= GetComponent<UnitFieldOfView>();}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00028}00028         \mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{m\_movePosition}} = transform.position;   }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00029}00029     \}}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00032}\mbox{\hyperlink{class_unit_movement_a9139aec755afad2f5408ef784f562284}{00032}}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_unit_movement_a9139aec755afad2f5408ef784f562284}{SetMovePosition}}(Vector3 t\_movePosition)}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00033}00033     \{}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00034}00034         \mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{m\_movePosition}} = t\_movePosition;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00035}00035         Vector3 moveDirection = (\mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{m\_movePosition}} -\/ transform.position).normalized;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00036}00036         \mbox{\hyperlink{class_unit_movement_ab46ad5198a06fedfccded69ee70875ec}{SetVelocity}}(moveDirection);}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00037}00037     \}}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00039}\mbox{\hyperlink{class_unit_movement_ab46ad5198a06fedfccded69ee70875ec}{00039}}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_unit_movement_ab46ad5198a06fedfccded69ee70875ec}{SetVelocity}}(Vector3 t\_velocityVector)}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00040}00040     \{}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00041}00041         \mbox{\hyperlink{class_unit_movement_aea24ff10af51a1f5ceb96ea158a72d79}{m\_velocityVector}} = t\_velocityVector;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00042}00042         m\_rigidbody2D.velocity = \mbox{\hyperlink{class_unit_movement_aea24ff10af51a1f5ceb96ea158a72d79}{m\_velocityVector}} * \mbox{\hyperlink{class_unit_movement_a4c228685b3bc09af7280d5eb49d8b96e}{m\_movementSpeed}};}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00043}00043     \}}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00045}\mbox{\hyperlink{class_unit_movement_a9402f2841d6133860dec19f2c42d569d}{00045}}     \textcolor{keyword}{private} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_unit_movement_a9402f2841d6133860dec19f2c42d569d}{Update}}()}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00046}00046     \{}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00047}00047         \textcolor{keywordflow}{if} (Vector3.Distance(\mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{m\_movePosition}}, transform.position) < 0.5f)}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00048}00048         \{}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00049}00049             \mbox{\hyperlink{class_unit_movement_aea24ff10af51a1f5ceb96ea158a72d79}{m\_velocityVector}} = Vector3.zero;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00050}00050             m\_rigidbody2D.velocity = Vector3.zero;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00051}00051             \mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{m\_movePosition}}= transform.position;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00052}00052         \}}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00053}00053     \}}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00055}\mbox{\hyperlink{class_unit_movement_ae1a44dc6bf889b8210f08e7c47f0e901}{00055}}     \textcolor{keyword}{private} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_unit_movement_ae1a44dc6bf889b8210f08e7c47f0e901}{FixedUpdate}}()}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00056}00056     \{}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00057}00057         \textcolor{keywordflow}{if} (Vector3.Distance(\mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{m\_movePosition}}, transform.position) < 2f)}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00058}00058         \{}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00059}00059             m\_rigidbody2D.velocity = m\_rigidbody2D.velocity * 0.9f;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00060}00060         \}}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00061}00061 }
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00062}00062         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{m\_movePosition}} != transform.position \&\& !\mbox{\hyperlink{class_unit_field_of_view}{UnitFieldOfView}}.\mbox{\hyperlink{class_unit_field_of_view_a8ca058efa6085d032e312058abe7bafd}{m\_enemySpotted}})}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00063}00063         \{}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00064}00064              Vector3 vectorToTarget = \mbox{\hyperlink{class_unit_movement_a4104bf79a3a219723bab21374cc1101c}{m\_movePosition}} -\/ transform.position;}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00065}00065              \textcolor{keywordtype}{float} angle = Mathf.Atan2(vectorToTarget.y, vectorToTarget.x) * Mathf.Rad2Deg -\/ \mbox{\hyperlink{class_unit_movement_ac68c00725a14e2f4d87092397684d257}{m\_rotationModifier}};}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00066}00066              Quaternion q = Quaternion.AngleAxis(angle, Vector3.forward);}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00067}00067              transform.rotation = Quaternion.Slerp(transform.rotation, q, Time.deltaTime * \mbox{\hyperlink{class_unit_movement_a3414700913795d2be84be288fa5f2631}{m\_rotationSpeed}});}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00068}00068         \}}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00069}00069     \}}
\DoxyCodeLine{\Hypertarget{_unit_movement_8cs_source_l00070}00070 \}}

\end{DoxyCode}
